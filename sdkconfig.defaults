#
# StudioPieters
#

# General Optimization
CONFIG_COMPILER_OPTIMIZATION_SIZE=y


# Binary Size Reduction
CONFIG_LOG_DEFAULT_LEVEL_ERROR=y

# IMPORTANT:
# This project must run on both ESP32-WROOM-32D and ESP8685-WROOM-03 (ESP32-C3).
# Both modules are commonly flashed/monitored via an external USB-UART adapter,
# so keep the serial console enabled on UART0.
CONFIG_ESP_CONSOLE_UART_DEFAULT=y
CONFIG_ESP_CONSOLE_UART_NUM=0
CONFIG_ESP_CONSOLE_UART_BAUDRATE=115200

# RAM Usage Minimization
# CONFIG_FREERTOS_IDLE_TASK_STACKSIZE=512
# CONFIG_FREERTOS_ISR_STACKSIZE=1536
CONFIG_HEAP_POISONING_DISABLED=y
CONFIG_HEAP_TRACING_OFF=y

#
# HomeKit
#
CONFIG_HOMEKIT_MAX_CLIENTS=16
CONFIG_HOMEKIT_SMALL=y
CONFIG_HOMEKIT_DEBUG=y
# end of HomeKit

#
# wolfSSL
#
CONFIG_WOLFSSL_APPLE_HOMEKIT=y
CONFIG_ESP_MAIN_TASK_STACK_SIZE=10500

#
# BL0942 calibration (AUBESS power monitor switch)
#
# PCB-verified network:
#   R_high = 1914 + 1914 = 1.91M + 1.91M = 3.82M
#   R_low  = RA1 || RA2 = 1k || 1k = 500R
#   => V_DIV_RATIO ~= R_low / (R_high + R_low) ~= 0.0001308
CONFIG_BL0942_V_DIV_RATIO="0.0002627"

# After setting the correct divider ratio, keep voltage calibration near 1.0.
# (Fine-trim in menuconfig if desired.)
CONFIG_BL0942_VOLTAGE_CAL="1.000"
